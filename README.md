# Firebase Security Rules Auto Builder

## Development Environment Setup
1. Install `nvm`:
    ```bash
    curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash
    ```
2. Install `node`:
    ```bash
    nvm install node
    ```
3. Add the following environment configuration into "~/.profile" (if you are using Linux)
    ```bash
    export NVM_DIR="$HOME/.nvm"
    [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
    [ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
    ```
3. Install Node dependencies:
    ```bash
    yarn
    ```
4. Install the folowing VSCode Extensions:
    * [EditorConfig.EditorConfig](https://open-vsx.org/vscode/item?itemName=EditorConfig.EditorConfig)
    * [dbaeumer.vscode-eslint](https://open-vsx.org/vscode/item?itemName=dbaeumer.vscode-eslint)
    * [Orta.vscode-jest](https://open-vsx.org/vscode/item?itemName=Orta.vscode-jest)
    * [arcanis.vscode-zipfs](https://open-vsx.org/vscode/item?itemName=arcanis.vscode-zipfs)

## Build (Transpile TypeScript codes into JavaScript)
Run:
```bash
yarn build
```

## Testing
### Unit Tests
Run:
```bash
yarn test
```

## Files
```
./
├── LICENSE                                 --> MIT License
├── README.md
├── coverage                                --> Unit tests report generated by Jest, you can ignore.
├── dist                                    --> Transpiled Javascript codes from TypeScript, this folder will be published to NPM eventually.
├── eslint.config.js                        --> Configuration file for ESLint.
├── jest.config.cjs                         --> Configuration file for Jest.
├── package.json                            --> NPM project file configuration.
├── scripts                                 --> Handy bash scripts place here.
│   └── run-unit-tests.sh
├── src                                     --> Source codes
│   ├── __test__                            --> Unit tests codes put here.
│   │   └── merge-security-rules.test.ts
│   ├── index.ts                            --> Entry point file for this project.
│   └── merge-security-rules.ts
├── tsconfig.jest.json                      --> TypeScript configuration for Jest only.
├── tsconfig.json                           --> Typescript configuration for source codes.
└── yarn.lock                               --> Locked packages info.
```
